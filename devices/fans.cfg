#####################################################################
# 	Fan Control
#####################################################################

[heater_fan hotend_fan]
##	Hotend Fan - XYE board, HE1 Connector
pin: P2.4
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##	If you are experiencing back flow, you can reduce fan_speed
fan_speed: 0.5

  
[fan]
##	Print Cooling Fan - XYE board, Fan Pin
pin: P2.3
kick_start_time: 0.5
##	Depending on your fan, you may need to increase this value
##	if your fan will not start. Can change cycle_time (increase)
##	if your fan is not able to slow down effectively
off_below: 0.10


[temperature_fan controller]
##      Controller fan - Z board, HE0 Connector
pin: z:P2.4
max_power: 0.25
shutdown_speed: 0.0
kick_start_time: 5.0
cycle_time:0.01
off_below:0.1
# Controller Thermistor
sensor_type: ATC Semitec 104GT-2
sensor_pin: z:P0.24
control: watermark
min_temp: 0
max_temp: 60
target_temp: 25
gcode_id: FC 

#[gcode_macro M142]
#gcode:
#    {% set S = params.S|default(60)|float %}
#    SET_TEMPERATURE_FAN_TARGET temperature_fan="controller" target={S}
  
[temperature_fan chamber]
##	Exhaust fan - Z board, HE0 Connector
pin: z:P2.7
max_power: 0.75
shutdown_speed: 0.0
kick_start_time: 5.0
cycle_time:0.01
off_below:0.1
# 	Chamber Probe
sensor_type: ATC Semitec 104GT-2
sensor_pin: z:P0.23
control: watermark
min_temp: 0
max_temp: 80
target_temp: 50
gcode_id: CHAMBER

#[gcode_macro M141]
#gcode:
#    SET_TEMPERATURE_FAN_TARGET temperature_fan="chamber" target={S}

## Probe types supported by Klipper
##   "EPCOS 100K B57560G104F"
##   "ATC Semitec 104GT-2"
##   "NTC 100K beta 3950"
##   "Honeywell 100K 135-104LAG-J01"
##   "NTC 100K MGB18-104F39050L32" (Keenovo Heater Pad)
##   "AD595"
##   "PT100 INA826"